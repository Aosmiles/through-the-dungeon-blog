---
import "../../../styles/blogBody.scss";
import MainLayout from "../../../layouts/MainLayout.astro";
import { getAllPosts } from "../../../lib/sanity";
import BlogPost from "../../../components/blog/BlogPost.astro";

export async function getStaticPaths() {
  const allPosts = await getAllPosts();
  return allPosts.map((post) => {
    return {
      params: { slug: post.slug.current },
      props: { post },
    };
  });
}

const { post } = Astro.props;
---

<MainLayout title={post.title}>
  <BlogPost post={post} />
</MainLayout>
