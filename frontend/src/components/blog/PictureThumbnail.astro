---
import { urlForImage } from "../../lib/sanityImageUrlBuilder";

const { illustration } = Astro.props;

// todo: create a thumbnail component that crops the image

const small = 400;
const medium = 600;
const large = 1000;

const height = 400;

const smallImage = urlForImage(illustration.image)
  .width(small)
  .height(height)
  .fit("max")
  .auto("format")
  .url();
const mediumImage = urlForImage(illustration.image)
  .width(medium)
  .height(height)
  .fit("max")
  .auto("format")
  .url();
const largeImage = urlForImage(illustration.image)
  .width(large)
  .height(height)
  .fit("max")
  .auto("format")
  .url();
---

<img
  src={largeImage}
  srcset={`${largeImage} ${large}w, ${mediumImage} ${medium}w, ${smallImage} ${small}w`}
  sizes="(min-width: 1024px) 768px,(min-width: 768px) 592px, (min-width: 640px) 368px, 368px"
  alt={illustration.alt}
/>
